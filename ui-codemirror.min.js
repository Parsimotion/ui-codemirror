/**
 * angular-ui-codemirror - This directive allows you to add CodeMirror to your textarea elements.
 * @version v0.3.0 - 2015-08-11
 * @link http://angular-ui.github.com
 * @license MIT
 */
"use strict";function uiCodemirrorDirective(a,b,c){function d(a,b,d,i){var j=angular.extend({value:b.text()},c.codemirror||{},a.$eval(d.uiCodemirror),a.$eval(d.uiCodemirrorOpts)),k=e(b,j);f(k,d.uiCodemirror||d.uiCodemirrorOpts,a),g(k,i,a),h(k,d.uiRefresh,a),a.$on("CodeMirror",function(a,b){if(!angular.isFunction(b))throw new Error("the CodeMirror event requires a callback function");b(k)}),angular.isFunction(j.onLoad)&&j.onLoad(k)}function e(a,b){var c;return"TEXTAREA"===a[0].tagName?c=window.CodeMirror.fromTextArea(a[0],b):(a.html(""),c=new window.CodeMirror(function(b){a.append(b)},b)),c}function f(a,b,c){function d(b,c){angular.isObject(b)&&e.forEach(function(d){if(b.hasOwnProperty(d)){if(c&&b[d]===c[d])return;a.setOption(d,b[d])}})}if(b){var e=Object.keys(window.CodeMirror.defaults);c.$watch(b,d,!0)}}function g(a,c,d){c&&(c.$formatters.push(function(a){if(angular.isUndefined(a)||null===a)return"";if(angular.isObject(a)||angular.isArray(a))throw new Error("ui-codemirror cannot use an object or an array as a model");return a}),c.$render=function(){var b=c.$viewValue||"";a.setValue(b)},a.on("change",function(a){var b=a.getValue();b!==c.$viewValue&&d.$evalAsync(function(){c.$setViewValue(b)})}),a.on("blur",function(){c.$touched||(b.$$phase?d.$evalAsync(c.$setTouched):d.$apply(c.$setTouched))}),c.$options&&c.$options.updateOn&&c.$options.updateOn.split(/\s+/).forEach(function(b){a.on(b,function(){c.$$debounceViewValueCommit(b)})}))}function h(b,c,d){c&&d.$watch(c,function(c,d){c!==d&&a(function(){b.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror needs CodeMirror to work... (o rly?)");return d}}}angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",uiCodemirrorDirective),uiCodemirrorDirective.$inject=["$timeout","$rootScope","uiCodemirrorConfig"];